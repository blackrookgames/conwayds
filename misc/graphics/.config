@var appdir ../../app
@var hdrdir ${appdir}/hdr
@var srcdir ${appdir}/src

# This is a comment
@imgimage champ_image ../champ.img.bmp
@dspalette champ_palette champ_image
@dstileset champ_tileset champ_image 8

@print champ_image     $(type champ_image)
@print champ_palette   $(type champ_palette)
@print champ_tileset   $(type champ_tileset)

@databuffer champ_paletted champ_palette
@databuffer champ_tilesetd champ_tileset



@open ${hdrdir}/DataGraphics.h

@line \#ifndef DATAGRAPHICS_H
@line \#define DATAGRAPHICS_H
@line 
@line \#include <nds.h>
@line 
@line class DataGraphics
@line {
@line     public:
@line 
@line     static const size_t champ_palette_size;
@line     static const u8 champ_palette_data[];
@line     static const size_t champ_tileset_size;
@line     static const u8 champ_tileset_data[];
@line };
@line 
@line \#endif

@close



@open ${srcdir}/DataGraphics.cpp

@line \#include "DataGraphics.h"
@line 
@line const size_t DataGraphics::champ_palette_size = $(cppsize champ_paletted);
@line const u8 DataGraphics::champ_palette_data[] = $(cppdata champ_paletted);
@line 
@line const size_t DataGraphics::champ_tileset_size = $(cppsize champ_tilesetd);
@line const u8 DataGraphics::champ_tileset_data[] = $(cppdata champ_tilesetd);

@close