@var prefix game/assets/Palette
@var hdrpath ../../app/hdr/${prefix}.h
@var srcpath ../../app/src/${prefix}.cpp

@var hdrdef GAME_ASSETS_PALETTE_H

@var namespace game::assets
@var class Palette

@load imgimage source ./Palette.bmp
@dspalette dsdata source
@databuffer data dsdata

@open ${hdrpath}
@line \#include <nds.h>
@line 
@line \#ifndef ${hdrdef}
@line \#define ${hdrdef}
@line 
@line namespace ${namespace}
@line {
@line     class ${class}
@line     {
@line         public:
@line         
@line         static const size_t size;
@line         static const u8 data[];
@line     };
@line }
@line 
@line \#endif
@close

@open ${srcpath}
@line \#include "${prefix}.h"
@line 
@line using namespace ${namespace};
@line 
@line const size_t ${class}::size = $(len data);
@line const u8 ${class}::data[] = 
@line $(cppdata data);
@close